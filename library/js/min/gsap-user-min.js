!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}gsap.registerPlugin(ScrollTrigger);var i=document.querySelector(".locomotive-scroll-container"),s=document.querySelectorAll(".case-kit"),l=document.querySelector(".ns-faq-main-nav"),a=document.querySelector(".faq-qa-inner"),c=gsap.utils.toArray(".with-parallax"),u=document.querySelector(".portfolio-our-projects-m"),h=new LocomotiveScroll({el:i,smooth:!0,getDirection:!0,direction:"vertical"});h.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy(i,{scrollTop:function(e){return arguments.length?h.scrollTo(e,0,0):h.scroll.instance.scroll.y},getBoundingClientRect:function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:i.style.transform?"transform":"fixed"}),h.on("scroll",(function(e){var t=document.querySelector(".homepage-line");t&&gsap.to(t,{yPercent:110,duration:.3,ease:"back.inOut(1.7)",transformOrigin:"top"});var r=e.currentElements.hero,o=document.querySelector("header"),n=document.querySelector(".menu_toggle"),i=document.querySelector(".logo-container"),s=document.querySelector(".h-top-button");if(r){if(r.el.classList.contains("basic-hero"))return void o.classList.add("header-frosted-js");r.progress>=.8?(o.classList.add("header-frosted-js"),n.classList.remove("white_toggle"),i.classList.remove("white_letter"),s.classList.remove("white_background")):(n.classList.add("white_toggle"),o.classList.remove("header-frosted-js"),i.classList.add("white_letter"),s.classList.add("white_background")),r.progress>=.8?o.classList.add("header-frosted-js"):o.classList.remove("header-frosted-js")}}));var f=function(e){return e.clientHeight/2-.2*e.clientHeight};(c&&c.forEach((function(e){var t=e.querySelector("img");gsap.to(t,{yPercent:25,ease:"none",scrollTrigger:{trigger:e,start:"top center+=20%",end:"bottom top",scrub:!0,scroller:i}})})),s&&s.forEach((function(e){var t=e.querySelector(".scroll-tab"),r=gsap.utils.toArray(e.querySelectorAll(".ck-stage")),o=r.length-1;ScrollTrigger.create({trigger:t,start:"top center",endTrigger:r[o],end:"center center",scroller:i,pin:!0}),r.forEach((function(e,r){var o,n=gsap.utils.toArray(t.querySelectorAll(".scroll--menu_item")),s=n[r].getAttribute("data-color"),l=e.querySelector(".case__title"),a=e.querySelector(".case__desc"),c=n[r].querySelector(".inner-circle");0===r?o=-1:r>0&&(o=r-1);var u=gsap.timeline();if(gsap.set(l,{autoAlpha:0,yPercent:105}),gsap.set(a,{autoAlpha:0,yPercent:20}),u.to(l,{autoAlpha:1,yPercent:0,duration:1,ease:"Power4.easeOut.easeOut"},0).to(a,{autoAlpha:1,yPercent:0,duration:1,ease:"Power4.easeOut.easeOut"},.2).to(c,{backgroundColor:s,width:"100%",height:"100%",duration:.2},0),o>=0){var g=n[o].querySelector(".inner-pipe");u.to(g,{backgroundColor:s,height:"100%",duration:.2},0)}ScrollTrigger.create({trigger:e,start:"top center",animation:u,scroller:i,end:function(){return"+=".concat(e.clientHeight+Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)/10)},toggleClass:{targets:n[r],className:"js-tab-visible"}}),n.forEach((function(t){var r=t.getAttribute("href");t.addEventListener("click",(function(t){t.preventDefault(),h.scrollTo(r,{offset:-f(e)})}))}))}))})),l)&&new(function(){function t(r){e(this,t),this.faqBar=r.menu,this.faqAnswers=r.answers,this.innerFaqBar=this.faqBar.querySelector(".ns-nav-faqs"),this.faqQuestions=o(this.innerFaqBar.querySelectorAll(".faq-sm-link")),this.faqTopLevel=o(this.innerFaqBar.querySelectorAll(".top-level details")),this.stages=o(this.faqAnswers.querySelectorAll(".faq-qa-item")),this.lastStage=this.stages.length-1,this.init()}return r(t,[{key:"linkTo",value:function(){var e=this;this.stages.forEach((function(t){e.faqQuestions.forEach((function(e){var r=e.getAttribute("href");e.addEventListener("click",(function(e){e.preventDefault(),h.scrollTo(r,{offset:-f(t)})}))}))}))}},{key:"collapse",value:function(){var e=this;this.faqTopLevel.forEach((function(t){t.addEventListener("click",(function(){e.faqTopLevel.forEach((function(e){e!==t&&e.removeAttribute("open")}))}))}))}},{key:"fixInPlace",value:function(){ScrollTrigger.create({trigger:this.faqBar,start:"top top+=10%",endTrigger:this.stages[this.lastStage],end:"center center",scroller:i,pin:!0})}},{key:"init",value:function(){this.fixInPlace(),this.collapse(),this.linkTo()}}]),t}())({menu:l,answers:a});u&&new(function(){function t(r){e(this,t),h.destroy(),this.horizonScroll=new LocomotiveScroll({el:i,smooth:!0,direction:"horizontal"}),this.map=function(e,t,r,o,n){return(e-t)*(n-o)/(r-t)+o},this.clamp=function(e,t,r){return e<=t?t:e>=r?r:e},this.progressBar=document.querySelector(".inner-pb"),this.scroll={cache:0,current:0},this.images=o(document.querySelectorAll(".blog__image")),this.page=document.querySelector(".portfolio-our-projects-m"),this.pageInner=this.page.querySelector(".inner-pp-section"),this.scrollItems=o(this.pageInner.querySelectorAll(".pp__item")),this.horizonScroll.update(),this.init()}return r(t,[{key:"fadeIn",value:function(){var e=this;setTimeout((function(){gsap.to(e.scrollItems,{yPercent:0,duration:1.2,stagger:.6,autoAlpha:1,ease:"power1.easeIn"})}),500)}},{key:"eventListeners",value:function(){document.addEventListener("DOMContentLoaded",this.fadeIn.bind(this))}},{key:"init",value:function(){var e=this;gsap.set(this.scrollItems,{autoAlpha:0,yPercent:25}),this.eventListeners(),this.horizonScroll.on("scroll",(function(t){console.log(t.currentElements),e.scroll.current=t.scroll.x;var r=e.scroll.current-e.scroll.cache;e.scroll.cache=e.scroll.current,e.map(r,-50,50,-15,15),console.log("how muc we scrolled "+t.scroll.x+"how much too scroll"+t.limit.x);var o=gsap.utils.mapRange(0,t.limit.x,0,100)(t.scroll.x);e.progressBar.style.width="".concat(o,"%"),console.log(o);for(var n=0,i=Object.keys(t.currentElements);n<i.length;n++){var s=i[n];if(t.currentElements[s].el.classList.contains("pp-item-block__inner")){var l=t.currentElements[s].progress,a=l<.5?e.clamp(e.map(l,0,.5,0,1),.2,1):e.clamp(e.map(l,.5,1,1,0),.2,1);t.currentElements[s].el.style.filter="opacity(".concat(a,")")}}})),this.horizonScroll.update()}}]),t}());ScrollTrigger.addEventListener("refresh",(function(){return h.update()})),ScrollTrigger.refresh()}();
//# sourceMappingURL=gsap-user-min.js.map