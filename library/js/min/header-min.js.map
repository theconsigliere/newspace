{"version":3,"sources":["../header.js"],"names":["header","options","_classCallCheck","this","toggleIcon","querySelector","logo","button","menuOn","pageBackground","document","page","fullscreenHeader","bottomLayer","topLayer","columns","querySelectorAll","socials","_toConsumableArray","line","menuItems","menuItemsUnderlines","imageArea","imageAreaMask","imageAreaImg","menuItemsWithSubMenu","init","openMenu","closeMenu","_this","disabled","classList","remove","gsap","to","yPercent","duration","ease","transformOrigin","timeline","onComplete","autoAlpha","xPercent","height","stagger","amount","reverse","add","_this2","locoScroll","scroll","els","hero","class","event","image","target","getAttribute","srcset","item","contains","console","log","parentElement","subMenu","preventDefault","toggle","_this3","addEventListener","runMenu","bind","forEach","mousein","showSubMenu","_this4","window","setTimeout","set","eventListeners","pageHeader","fullNav"],"mappings":"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","sourcesContent":["class header {\n\n  constructor (options) {\n\n    // header\n    this.header = options.header\n    this.toggleIcon = this.header.querySelector('.menu_toggle');\n    this.logo = this.header.querySelector('.logo-container');\n    this.button = this.header.querySelector('.h-top-button');\n    this.menuOn\n   \n    this.pageBackground = document.querySelector('.page-cover');\n    this.page = this.pageBackground.querySelector('.page-in-full');\n\n    // Full screen Nav\n    this.fullscreenHeader = this.header.querySelector('.fullscreen-nav-js')\n    this.bottomLayer = this.header.querySelector('.fn-nav-inner')\n    this.topLayer = this.header.querySelector('.fn-nav-inner-top-layer')\n\n    this.columns = this.fullscreenHeader.querySelectorAll('.inner-fs-column')\n    this.socials = [...this.fullscreenHeader.querySelectorAll('.button-social-menu-item')]\n    this.line = this.header.querySelector('.homepage-line')\n    this.menuItems = [...this.fullscreenHeader.querySelectorAll('.fc_menu-item')]\n    this.menuItemsUnderlines = [...this.fullscreenHeader.querySelectorAll('.fc-underline-inner')]\n\n    this.imageArea = this.fullscreenHeader.querySelector('.js-fc-image-area')\n    this.imageAreaMask = this.imageArea.querySelector('.fc-image-area-mask')\n    this.imageAreaImg = this.imageAreaMask.querySelector('img')\n    this.menuItemsWithSubMenu = [...this.fullscreenHeader.querySelectorAll('.fc-menu-has-children')]\n\n\n\n    // run \n    this.init()\n\n  }\n\n  runMenu () {\n\n        // close menu if already open\n        if (this.menuOn == false ) {\n          this.closeMenu()\n          return\n        }\n\n      this.openMenu()\n  }\n\n\n  openMenu () {\n\n    this.toggleIcon.disabled = true\n\n    // make sure logo can be seen\n    this.toggleIcon.classList.remove('white_toggle')\n    this.logo.classList.remove('white_letter')\n    this.button.classList.remove('white_background')\n\n\n    // remove line as soon as nav is used\n    gsap.to( this.line,{ yPercent: 110, duration: 0.6, ease: \"back.inOut(1.7)\", transformOrigin: 'top'})\n\n\n    let tIn = gsap.timeline({ onComplete: () => {\n            // when timeline has run\n            this.toggleIcon.disabled = false\n        }\n    })\n\n\n    tIn\n     // background fades in\n    .to(this.fullscreenHeader, {autoAlpha: 1, duration:0.1, xPercent: 0} )\n    .to([this.bottomLayer, this.topLayer], {\n      duration: 0.8,\n      height: '100%',\n    //  skewY: 2,\n      ease: \"power3.inOut\",\n      stagger: {\n        amount: 0.1\n      }\n    })\n   // .to([this.bottomLayer, this.topLayer], { skewY: 0, height:'100%', duration:0.1})\n    .to(this.menuItems.reverse(), {yPercent:0, duration:0.6, stagger: 0.15, autoAlpha: 1,  ease: \"power4.out\"}, '-=0.6')\n    .to([this.imageArea, this.imageAreaMask], {xPercent:0, duration:0.6, ease: \"power4.out\"}, '-=0.8')\n    .to(this.menuItemsUnderlines.reverse(), {xPercent:0, duration:0.3,  ease: \"back.inOut(1.7)\", stagger:0.15, autoAlpha:1 }, '-=1')\n    .to(this.socials, {autoAlpha: 1, duration:0.2, stagger:0.1, ease: \"power4.out\"}, '-=1' )\n\n  this.toggleIcon.classList.add('toggle_on');\n\n  // change checker to false, for next time\n  this.menuOn = false\n\n\n\n}\n\n  closeMenu () {\n\n    this.toggleIcon.disabled = true\n\n        let tOut = gsap.timeline({ onComplete: () => {\n          // when timeline has run\n          this.toggleIcon.disabled = false\n        } })\n\n        tOut\n        .to(this.imageArea, {xPercent:-110, duration:0.6, ease: \"power4.out\"})\n        .to(this.imageAreaMask, {xPercent:110, duration:0.6, ease: \"power4.out\"}, 0)\n        .to(this.socials, {duration:0.3, stagger: 0.1, autoAlpha: 0,  ease: \"power3.inOut\"}, '-=0.6')\n        .to(this.menuItems, {yPercent:-100, duration:0.3, stagger: 0.1, autoAlpha: 0,  ease: \"power3.inOut\"}, '-=0.6')\n        .to(this.menuItemsUnderlines, {xPercent:-100, duration:0.3, stagger: 0.1, autoAlpha: 0,  ease: \"power3.inOut\"}, \"-=1\")\n\n          .to([this.topLayer, this.bottomLayer], {\n            duration: 0.8,\n            height: 0,\n            ease: \"power3.inOut\",\n            stagger: {\n              amount: 0.07\n            },\n            onComplete: ()=> {\n              // check if hero is underneath, if it is make logo white\n              if (locoScroll.scroll.els.hero.class === 'is-inview') {\n                this.toggleIcon.classList.add('white_toggle')\n                this.logo.classList.add('white_letter')\n                this.button.classList.add('white_background')\n              }   \n           } \n          },'-=0.4')\n          .to(this.fullscreenHeader, {autoAlpha:0, duration:0.1})\n\n\n        this.toggleIcon.classList.remove('toggle_on')\n\n\n\n      \n\n        // change checker to true, to run next time\n        this.menuOn = true\n\n  }\n\n\n  mousein (event) {\n\n    // get menu item image\n    const image = event.target.getAttribute('data-image')\n\n    // replace imagearea image with new image\n    this.imageAreaImg.srcset = image\n\n\n  }\n\n  showSubMenu(event) {\n\n\n    const item = event.target\n\n    if (item.classList.contains('fc-round-outer-plus')) {\n\n      console.log(item.parentElement)\n\n      const subMenu = item.parentElement.parentElement\n\n      event.preventDefault()\n      item.classList.toggle('menu-icon-rotate')\n      subMenu.classList.toggle('fc-sub-menu-show')\n\n    }\n  }\n\n  eventListeners() {\n\n    // add event listener to toggle menu button\n    this.toggleIcon.addEventListener('click', this.runMenu.bind(this))\n\n\n    this.menuItems.forEach(item => {\n      item.addEventListener('mouseenter', this.mousein.bind(this))\n     // item.addEventListener('mouseout', this.mouseout.bind(this))\n    });\n\n    this.menuItemsWithSubMenu.forEach(item => {\n      item.addEventListener('click', this.showSubMenu.bind(this))\n    })\n\n  }\n\n  init () {\n\n    // Hide menu on page load\n    window.setTimeout(() => {\n      this.fullscreenHeader.classList.remove('js-nav-hide')\n    }, 1000);\n   \n    gsap.set([this.fullscreenHeader, this.socials], { autoAlpha:0})\n    gsap.set(this.imageArea, { xPercent: -110 })\n    gsap.set(this.imageAreaMask, { xPercent: 110 })\n\n    gsap.set(this.menuItemsUnderlines, {xPercent:-100})\n    gsap.set([this.bottomLayer, this.topLayer], {  height: 0, transformOrigin: \"right top\" })\n    gsap.set(this.menuItems, {autoAlpha: 0, yPercent: -100})\n\n    this.eventListeners()\n  }\n}\n\nconst pageHeader = document.querySelector('header')\n\nconst fullNav = new header({ header: pageHeader })\n\n"]}