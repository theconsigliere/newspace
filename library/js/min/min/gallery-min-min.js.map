{"version":3,"sources":["../gallery.js"],"names":["Gallery","e","console","log","Error","n","t","Array","from","querySelectorAll","r","document","querySelector","o","l","i","classList","remove","window","removeEventListener","c","u","a","key","s","nextElementSibling","firstElementChild","previousElementSibling","lastElementChild","src","textContent","title","dataset","description","info","matches","add","addEventListener","forEach","currentTarget","target"],"mappings":"aAEA,SAASA,QAAQC,GAKb,GAHAC,QAAQC,IAAI,aAGPF,EACH,MAAM,IAAIG,MAAM,qBAGlB,IAIIC,EAJEC,EAASC,MAAMC,KAAKP,EAAQQ,iBAAiB,QAC7CC,EAAQC,SAASC,cAAc,kBAC/BC,EAAaH,EAAME,cAAc,SACjCE,EAAaJ,EAAME,cAAc,SAkBvC,SAASG,IACPL,EAAMM,UAAUC,OAAO,QAEvBC,OAAOC,oBAAoB,QAASC,GACpCN,EAAWK,oBAAoB,QAASE,GACxCR,EAAWM,oBAAoB,QAASG,GAS1C,SAASF,EAAYnB,GACnB,MAAkB,WAAdA,EAAMsB,IAAyBR,IACjB,eAAdd,EAAMsB,IAA6BF,IACrB,cAAdpB,EAAMsB,IAA4BD,SAAA,EAGxC,SAASD,IACPG,EAAUnB,EAAaoB,oBAAsBxB,EAAQyB,mBAEvD,SAASJ,IACPE,EAAUnB,EAAasB,wBAA0B1B,EAAQ2B,kBAG3D,SAASJ,EAAUvB,GACZA,GAKLC,QAAQC,IAAIF,GACZS,EAAME,cAAc,OAAOiB,IAAM5B,EAAG4B,IACpCnB,EAAME,cAAc,MAAMkB,YAAc7B,EAAG8B,MAC3CrB,EAAME,cAAc,YAAYkB,YAAc7B,EAAG+B,QAAQC,YACzD5B,EAAeJ,EAnDfC,QAAQgC,KAAK,oBAETxB,EAAMyB,QAAQ,SAChBjC,QAAQgC,KAAK,uBAGfxB,EAAMM,UAAUoB,IAAI,QAGpBlB,OAAOmB,iBAAiB,QAASjB,GACjCN,EAAWuB,iBAAiB,QAAShB,GACrCR,EAAWwB,iBAAiB,QAASf,KAgCnCpB,QAAQgC,KAAK,oBAajB5B,EAAOgC,SAAQ,SAAArC,GAAK,OAClBA,EAAMoC,iBAAiB,SAAS,SAAApC,GAAC,OAAIuB,EAAUvB,EAAEsC,qBAInDjC,EAAOgC,SAAQ,SAAArC,GAEbA,EAAMoC,iBAAiB,SAAS,SAAApC,GAEhB,UAAVA,EAAEsB,KAEJC,EAAUvB,EAAEsC,qBAKlB7B,EAAM2B,iBAAiB,SAlDvB,SAA4BpC,GACtBA,EAAEuC,SAAWvC,EAAEsC,eACjBxB,OA1CRb,QAAQC,IAAI,SA+FVH,QAAQW,SAASC,cAAc","sourcesContent":["console.log('hello')\n\nfunction Gallery(gallery) {\n\n    console.log('hellotwo')\n\n\n    if (!gallery) {\n      throw new Error('No Gallery Found!');\n    }\n    // select the elements we need\n    const images = Array.from(gallery.querySelectorAll('img'));\n    const modal = document.querySelector('.gallery-modal');\n    const prevButton = modal.querySelector('.prev');\n    const nextButton = modal.querySelector('.next');\n    let currentImage;\n  \n    function openModal() {\n      console.info('Opening Modal...');\n      // First check if the modal is already open\n      if (modal.matches('.open')) {\n        console.info('Madal already open');\n        return; // stop the function from running\n      }\n      modal.classList.add('open');\n  \n      // Event listeners to be bound when we open the modal:\n      window.addEventListener('keyup', handleKeyUp);\n      nextButton.addEventListener('click', showNextImage);\n      prevButton.addEventListener('click', showPrevImage);\n    }\n  \n    function closeModal() {\n      modal.classList.remove('open');\n      // TODO: add event listeners for clicks and keyboard..\n      window.removeEventListener('keyup', handleKeyUp);\n      nextButton.removeEventListener('click', showNextImage);\n      prevButton.removeEventListener('click', showPrevImage);\n    }\n  \n    function handleClickOutside(e) {\n      if (e.target === e.currentTarget) {\n        closeModal();\n      }\n    }\n  \n    function handleKeyUp(event) {\n      if (event.key === 'Escape') return closeModal();\n      if (event.key === 'ArrowRight') return showNextImage();\n      if (event.key === 'ArrowLeft') return showPrevImage();\n    }\n  \n    function showNextImage() {\n      showImage(currentImage.nextElementSibling || gallery.firstElementChild);\n    }\n    function showPrevImage() {\n      showImage(currentImage.previousElementSibling || gallery.lastElementChild);\n    }\n  \n    function showImage(el) {\n      if (!el) {\n        console.info('no image to show');\n        return;\n      }\n      // update the modal with this info\n      console.log(el);\n      modal.querySelector('img').src = el.src;\n      modal.querySelector('h2').textContent = el.title;\n      modal.querySelector('figure p').textContent = el.dataset.description;\n      currentImage = el;\n      openModal();\n    }\n  \n    // These are our Event Listeners!\n    images.forEach(image =>\n      image.addEventListener('click', e => showImage(e.currentTarget))\n    );\n  \n    // loop over each image\n    images.forEach(image => {\n      // attach an event listener for each image\n      image.addEventListener('keyup', e => {\n        // when that is keyup'd, check if it was enter\n        if (e.key === 'Enter') {\n          // if it was, show that image\n          showImage(e.currentTarget);\n        }\n      });\n    });\n  \n    modal.addEventListener('click', handleClickOutside);\n  }\n  \n  // Use it on the page\n\n  Gallery(document.querySelector('.gallery-section-full'));\n\n\n"]}