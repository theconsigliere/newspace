{"version":3,"sources":["../faqs.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;IACM,O;AAEF,mBAAa,OAAb,EAAsB;AAAA;;AAClB,SAAK,MAAL,GAAc,OAAO,CAAC,IAAtB;AACA,SAAK,UAAL,GAAkB,OAAO,CAAC,OAA1B;AACA,SAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,aAAZ,CAA0B,cAA1B,CAAnB;AACA,SAAK,YAAL,sBAAwB,KAAK,WAAL,CAAiB,gBAAjB,CAAkC,cAAlC,CAAxB;AACA,SAAK,WAAL,sBAAuB,KAAK,WAAL,CAAiB,gBAAjB,CAAkC,oBAAlC,CAAvB;AACA,SAAK,MAAL,sBAAkB,KAAK,UAAL,CAAgB,gBAAhB,CAAiC,cAAjC,CAAlB;AACA,SAAK,SAAL,GAAiB,KAAK,MAAL,CAAY,MAAZ,GAAqB,CAAtC,CAPkB,CAWlB;;AACA,SAAK,IAAL;AAEH;;;;WAED,kBAAU;AAAA;;AAGN,WAAK,MAAL,CAAY,OAAZ,CAAqB,UAAA,KAAK,EAAI;AAE1B;AAEA,QAAA,KAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAAA,IAAI,EAAI;AAE9B,cAAM,MAAM,GAAG,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAf;AAGA,UAAA,IAAI,CAAC,gBAAL,CAAsB,OAAtB,EAA+B,UAAC,CAAD,EAAO;AAClC,YAAA,CAAC,CAAC,cAAF,GADkC,CAElC;;AAEA,YAAA,UAAU,CAAC,QAAX,CAAoB,MAApB,EAA4B;AAAC,cAAA,MAAM,EAAE,CAAC,UAAU,CAAC,KAAD;AAApB,aAA5B;AACH,WALD;AAOH,SAZD;AAcH,OAlBD;AAsBH;;;WAED,oBAAW;AAAA;;AAEZ;AAEK;AACA,WAAK,WAAL,CAAiB,OAAjB,CAAyB,UAAC,YAAD,EAAkB;AACvC,QAAA,YAAY,CAAC,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC7C;AACA,UAAA,MAAI,CAAC,WAAL,CAAiB,OAAjB,CAAyB,UAAC,MAAD,EAAY;AACjC,gBAAI,MAAM,KAAK,YAAf,EAA6B;AAC7B,cAAA,MAAM,CAAC,eAAP,CAAuB,MAAvB;AACC;AACJ,WAJD;AAKC,SAPD;AAQH,OATD;AAWH;;;WAED,sBAAc;AAEN;AACA,MAAA,aAAa,CAAC,MAAd,CAAqB;AACrB,QAAA,OAAO,EAAE,KAAK,MADO;AAErB,QAAA,KAAK,EAAE,cAFc;AAGrB,QAAA,UAAU,EAAE,KAAK,MAAL,CAAY,KAAK,SAAjB,CAHS;AAIrB,QAAA,GAAG,EAAE,eAJgB;AAKrB,QAAA,QAAQ,EAAE,eALW;AAMrB,QAAA,GAAG,EAAE;AANgB,OAArB;AAUP;;;WAID,gBAAQ;AAEJ,WAAK,UAAL;AAEA,WAAK,QAAL;AAEA,WAAK,MAAL;AAIH","file":"faqs-min.js","sourcesContent":["// TODO! Collapse all FAQ'S when clicking on new top-link\nclass FAQmenu {\n\n    constructor (options) {\n        this.faqBar = options.menu\n        this.faqAnswers = options.answers\n        this.innerFaqBar = this.faqBar.querySelector('.ns-nav-faqs')\n        this.faqQuestions = [...this.innerFaqBar.querySelectorAll('.faq-sm-link')]\n        this.faqTopLevel = [...this.innerFaqBar.querySelectorAll('.top-level details')]\n        this.stages = [...this.faqAnswers.querySelectorAll('.faq-qa-item')]\n        this.lastStage = this.stages.length - 1\n\n\n\n        // init menu\n        this.init()\n\n    }\n\n    linkTo () {\n\n\n        this.stages.forEach( stage => {\n\n            // when we click on a link scroll to that section\n\n            this.faqQuestions.forEach(link => {\n\n                const target = link.getAttribute('href');\n                \n        \n                link.addEventListener('click', (e) => {\n                    e.preventDefault();\n                    // use loco scroll to scroll to section\n    \n                    locoScroll.scrollTo(target, {offset: -halfHeight(stage)})\n                });\n        \n            });\n\n        })\n\n\n\n    }\n\n    collapse() {\n\n   // close all tabs when opening a new tab\n\n        // Add the onclick listeners.\n        this.faqTopLevel.forEach((targetDetail) => {\n            targetDetail.addEventListener(\"click\", () => {\n            // Close all the details that are not targetDetail.\n            this.faqTopLevel.forEach((detail) => {\n                if (detail !== targetDetail) {\n                detail.removeAttribute(\"open\");\n                }\n            });\n            });\n        });\n\n    }\n\n    fixInPlace () {\n\n            // pin scroll-box\n            ScrollTrigger.create({\n            trigger: this.faqBar,\n            start: \"top top+=10%\",\n            endTrigger: this.stages[this.lastStage],\n            end: \"center center\",\n            scroller: scrollContainer,\n            pin: true\n\n        })\n\n    }\n\n\n\n    init () {\n\n        this.fixInPlace()\n\n        this.collapse()\n\n        this.linkTo()\n\n\n\n    }\n\n\n}\n\n"]}