{"version":3,"sources":["../portfolio.js"],"names":[],"mappings":"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","file":"portfolio-min.js","sourcesContent":["class PortfolioSlider {\n\n    constructor (options) {\n\n        locoScroll.destroy()\n\n        this.horizonScroll = new LocomotiveScroll({\n            el: scrollContainer,\n            smooth: true,\n            direction: 'horizontal'\n          }); \n\n          this.map = (x, a, b, c, d) => (x - a) * (d - c) / (b - a) + c;\n          this.clamp = (num, min, max) => num <= min ? min : num >= max ? max : num\n          this.progressBar = document.querySelector('.inner-pb')\n\n          this.scroll = {cache: 0, current: 0};\n          this.images = [...document.querySelectorAll('.blog__image')]\n\n\n          // portfolio page info\n          this.page = document.querySelector('.portfolio-our-projects-m')\n          this.pageInner = this.page.querySelector('.inner-pp-section')\n          this.scrollItems = [...this.pageInner.querySelectorAll('.pp__item')]\n\n          this.horizonScroll.update()\n\n\n\n                  // init menu\n        this.init()\n\n\n\n\n    }\n\n    fadeIn() {\n\n        setTimeout( () => {\n\n       // fade them in up and in one by one\n        gsap.to(this.scrollItems, {yPercent:0, duration:1.2, stagger: 0.6, autoAlpha: 1,  ease: \"power1.easeIn\"})\n        }, 500);\n\n\n \n\n    }\n\n    eventListeners() {\n\n        // add event listener to toggle menu button\n        document.addEventListener('DOMContentLoaded',  this.fadeIn.bind(this))\n\n\n      }\n\n    init() {\n\n        // set all scrollitems to invisible\n        gsap.set( this.scrollItems,{ autoAlpha: 0, yPercent: 25 })\n\n        this.eventListeners()\n\n        this.horizonScroll.on('scroll', (obj) => {\n\n            console.log(obj.currentElements)\n            this.scroll.current = obj.scroll.x;\n            const distance = this.scroll.current - this.scroll.cache;\n            this.scroll.cache = this.scroll.current;\n            const skewVal = this.map(distance, -50, 50, -15, 15);\n\n        //    this.images.forEach(el => el.style.transform = 'skewX('+ this.clamp(skewVal, -3, 3)+'deg)');\n\n            console.log('how muc we scrolled ' + obj.scroll.x + 'how much too scroll' + obj.limit.x)\n\n            //update progress bar with width using gsap utility\n            // map range from pixels to 100\n            let widthToProgress = gsap.utils.mapRange(0, obj.limit.x, 0, 100)\n            let howMuchScrolled = widthToProgress(obj.scroll.x)\n\n            this.progressBar.style.width = `${howMuchScrolled}%`\n\n            console.log(howMuchScrolled)\n\n\n            for (const key of Object.keys(obj.currentElements)) {\n                if ( obj.currentElements[key].el.classList.contains('pp-item-block__inner') ) {\n                    let progress = obj.currentElements[key].progress;\n                    \n                    const brightnessVal = progress < 0.5 ? this.clamp(this.map(progress,0,0.5,0,1),0.2,1) : this.clamp(this.map(progress,0.5,1,1,0),0.2,1);\n                    obj.currentElements[key].el.style.filter = `opacity(${brightnessVal})`\n                }\n            }\n        });\n\n          this.horizonScroll.update()\n    }\n}\n\n"]}